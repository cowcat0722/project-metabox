{{> layout/header}}

<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet"> <!-- 멋진 글꼴 추가 -->
<!-- Swiper CSS -->
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css"/>
<head>
    <link rel="stylesheet" href="/css/index.css">
</head>

<div class="container-fluid p-0">
    <!-- Main Banner -->
    <div class="main-banner">
        <video class="movie-main" autoplay loop muted>
            <source src="video/index/하이재킹.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    </div>
</div>

<div class="container">
    <!-- 무비 차트, 상영 예정작  -->
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center">
            <ul class="nav nav-tabs" id="myTab" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="movie-chart-tab" data-toggle="tab" href="#movie-chart" role="tab"
                       aria-controls="movie-chart" aria-selected="true">무비차트</a>
                </li>
                <li class="vertical-separator">|</li>
                <li class="nav-item">
                    <a class="nav-link" id="upcoming-tab" data-toggle="tab" href="#upcoming" role="tab"
                       aria-controls="upcoming" aria-selected="false">상영예정작</a>
                </li>
            </ul>
            <a href="/movies/list" class="btn-custom">전체보기 <span class="arrow">&rarr;</span></a>
        </div>

        <div class="tab-content">
            <div class="tab-pane fade show active" id="movie-chart" role="tabpanel" aria-labelledby="movie-chart-tab">
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        {{#model.movieCharts}}
                            <div class="swiper-slide movie-item">
                                <div class="img-container">
                                    <img src="/image/movie/{{imgFilename}}">
                                    <div class="overlay">
                                        <a href="/movies/detail/{{movieId}}" class="btn-detail">상세보기</a>
                                        <a href="#" class="btn-booking">예매하기</a>
                                    </div>
                                </div>
                                <div class="rank">{{rank}}</div>
                                <p class="bold-p">
                                    <span class="{{ageColor}}">{{ageInfo}}</span>{{title}}
                                </p>
                                <p class="percentage">예매율 {{ticketSales}} %</p>
                            </div>
                        {{/model.movieCharts}}
                    </div>
                    <!-- Add Navigation -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>

            <!-- 슬라이드2 -->
            <div class="tab-pane fade" id="upcoming" role="tabpanel" aria-labelledby="upcoming-tab">
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        {{#model.toBeCharts}}
                            <div class="swiper-slide movie-item">
                                <div class="img-container">
                                    <img src="/image/movie/{{imgFilename}}">
                                    <div class="overlay">
                                        <a href="/movies/detail/{{movieId}}" class="btn-detail">상세보기</a>
                                        <a href="#" class="btn-booking">예매하기</a>
                                    </div>
                                </div>
                                <div class="rank">D-{{dDay}}</div>
                                <p class="bold-p">
                                    <span class="{{ageColor}}">{{ageInfo}}</span>{{title}}
                                </p>
                                <p class="percentage">{{startDate}} 개봉</p>
                            </div>
                        {{/model.toBeCharts}}

                    </div>
                    <!-- Add Navigation -->
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </div>
        </div>
    </div>

    <br><br>
    <hr>

<!--광고배너-->
    <div class="ad-banner" id="adBanner" style="cursor: pointer">
<!--        <img src="/image/index/hija.jpg" alt="광고 이미지">-->
        <img src="/image/index/fishing.png" alt="광고 이미지">
        <button class="close-btn" id="closeAdBanner">&times;</button>
<!--        <p>METABOX X FALLING</p>-->
    </div>
<!--    광고배너-->

    <!-- 상영관 소개 -->
    <div class="container mt-4">
        <div class="d-flex justify-content-between align-items-center">
            <h2 class="section-heading">상영관 소개</h2>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="image-container">
                    <img src="image/index/cinemai9.jpg" class="img-fluid" data-toggle="modal" data-target="#cinemaModal">
                </div>
            </div>
            <div class="col-md-6">
                <div class="image-container">
                    <img src="image/index/cinemai13.jpg" class="img-fluid" data-toggle="modal" data-target="#cinemaModal2">
                </div>
            </div>
        </div>
    </div>

    <br>
    <hr>
    <!-- 광고이미지 부분 -->
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-12">
                <img src="image/index/add1.jpg" class="img-fluid mx-auto d-block" style="width: 1500px;">
            </div>
        </div>
    </div>
    <!-- 공지사항 부분  -->
    <div class="container mt-5 mb-5">
        <div class="notice-box mx-auto">
            <div class="customer-center">
                <div class="customer-header">고객센터</div>
                <div class="customer-content">
                    <p><strong>1544-1122</strong></p>
                    <p>고객센터 운영시간 (평일 09:00~18:00)<br>업무시간 외 자동응답 안내 가능합니다.</p>
                </div>
                <div class="btn-group">
                    <button class="btn btn-outline-secondary">FAQ</button>
                    <button class="btn btn-outline-secondary">1:1 문의</button>
                    <button class="btn btn-outline-secondary">대관/단체 문의</button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Cinema Modal 1 -->
<div class="modal fade" id="cinemaModal" tabindex="-1" role="dialog" aria-labelledby="cinemaModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #4E0929">
                <h5 class="modal-title" id="cinemaModalLabel" style="color: white">상영관 소개</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color: white">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h3>Classic Cinematic Experience</h3>
                <p>최첨단 사운드 시스템과 넓은 스크린으로 무장한 우리의 일반 좌석 상영관은 <br> 전통적인 영화 감상의 매력을 극대화합니다.</p>
                <img src="/image/theater/theater4.png" class="img-fluid mb-3" alt="Cinema Image 1" style="width: 758px; height: 400px;">
                <h3>High-Quality Cinema Sound</h3>
                <p>돌비 애트모스(Dolby Atmos) 사운드 시스템이 장착된 상영관에서 영화의 모든 디테일을 생생하게 느껴보세요. 입체적인 사운드 경험이 여러분을 기다리고 있습니다.</p>
                <img src="/image/theater/theater12.jpg" class="img-fluid mb-3" alt="Cinema Image 2" style="width: 758px; height: 400px;">
                <h3>Optimal Viewing Environment</h3>
                <p>넓게 배치된 좌석 배열과 충분한 레그룸을 제공하여 편안한 시청 환경을 보장합니다. <br> 매 순간 몰입할 수 있는 최적의 환경을 경험해보세요.</p>
                <img src="/image/theater/theater11.jpg" class="img-fluid mb-3" alt="Cinema Image 3" style="width: 758px; height: 400px;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" style="background-color: #4E0929">닫기</button>
            </div>
        </div>
    </div>
</div>

<!-- Cinema Modal 2 -->
<div class="modal fade" id="cinemaModal2" tabindex="-1" role="dialog" aria-labelledby="cinemaModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header" style="background-color: #4E0929">
                <h5 class="modal-title" id="cinemaModalLabel" style="color: white">상영관 소개</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" style="color: white">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <h3>World's 1st Reclining Bed Cinema</h3>
                <p>NASA(미 항공 우주국)의 신소재로 유명한 프리미엄 매트리스&베개 브랜드 <br> ‘템퍼’와의 콜라보레이션으로 탄생한 세계 최초 리클라이닝 침대 영화관 입니다.</p>
                <img src="/image/theater/theater6.jpg" class="img-fluid mb-3" alt="Cinema Image 1" style="width: 758px; height: 400px;">
                <h3>Prestige, Comfort, Private</h3>
                <p>비교할 수 없는 특별함, 잊을 수 없는 편안함, 소중한 우리만의 시간<br>전 좌석 최고급 리클라이닝 템퍼 모션 베드, 웰컴 패키지 제공</p>
                <img src="/image/theater/theater8.jpg" class="img-fluid mb-3" alt="Cinema Image 3" style="width: 758px; height: 400px;">
                <h3>Zero Gravity Cinema</h3>
                <p>최상의 영화관람을 위해 주문제작된 템퍼 오리지날 매트리스와 <br> 제로지 라이프 (Zero-G Lifestyle)에서 편안함을 경험하세요</p>
                <img src="/image/theater/theater7.jpg" class="img-fluid mb-3" alt="Cinema Image 2" style="width: 758px; height: 400px;">
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal" style="background-color: #4E0929">닫기</button>
            </div>
        </div>
    </div>
</div>

<!-- Swiper JS -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script>
    //슬라이드 1
    var swiper1 = new Swiper('#movie-chart .swiper-container', {
        slidesPerView: 5,
        spaceBetween: 10,
        slidesPerGroup: 5,
        loop: true,
        loopFillGroupWithBlank: true,
        navigation: {
            nextEl: '#movie-chart .swiper-button-next',
            prevEl: '#movie-chart .swiper-button-prev',
        },
    });

    //슬라이드 2
    var swiper2 = new Swiper('#upcoming .swiper-container', {
        slidesPerView: 5,
        spaceBetween: 10,
        slidesPerGroup: 5,
        loop: true,
        loopFillGroupWithBlank: true,
        navigation: {
            nextEl: '#upcoming .swiper-button-next',
            prevEl: '#upcoming .swiper-button-prev',
        },
    });

    // 무비차트, 상영예정작 스위치 탭
    $('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
        var target = $(e.target).attr("href") // activated tab
        if (target === '#movie-chart') {
            swiper1.update();
        } else if (target === '#upcoming') {
            swiper2.update();
        }
    });

    var $adBanner = $('#adBanner');
    var $closeAdBannerBtn = $('#closeAdBanner');

    // Check if the ad banner should be hidden
    if (getCookie('adBannerClosed') === 'true') {
        $adBanner.hide();
    }

    $closeAdBannerBtn.click(function() {
        $adBanner.hide();
        setCookie('adBannerClosed', 'true', 7); // Set cookie to expire in 7 days
    });

    function setCookie(name, value, days) {
        var expires = "";
        if (days) {
            var date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function getCookie(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
            var c = ca[i];
            while (c.charAt(0) == ' ') c = c.substring(1, c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
        }
        return null;
    }
</script>
{{> layout/footer}}